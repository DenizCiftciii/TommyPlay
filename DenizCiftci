-- Token GUI (Spam-Free Auto Collect by @NoctivexLQ)
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wizard"))()
local Window = Library:NewWindow("Token GUI")
local Tab = Window:NewSection("Steps")

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local Rep = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- Rejoin (to collect token)
Tab:CreateButton("Rejoin (to collect token)", function()
    local placeId = game.PlaceId
    local jobId = game.JobId
    if jobId and jobId ~= "" then
        TeleportService:TeleportToPlaceInstance(placeId, jobId, LocalPlayer)
    else
        TeleportService:Teleport(placeId, LocalPlayer)
    end
end)

-- SHOP GAME
Tab:CreateButton("SHOP GAME", function()
    TeleportService:Teleport(12776515731, LocalPlayer)
end)

-- Auto Collect (Spam-Free)
do
    local isCollecting = false
    local collectedCount = 0

    Tab:CreateButton("Start Auto Collect", function()
        if isCollecting then
            Library:Notify("Auto Collect", "Already running.")
            return
        end
        isCollecting = true
        collectedCount = 0

        local TokensFolder = Rep:WaitForChild("Tokens", 10)
        local Spawns = TokensFolder and TokensFolder:FindFirstChild("Spawns")
        local Shared = Rep:FindFirstChild("Shared")
        local CollectTokenRemote

        if Shared then
            local lib = Shared:FindFirstChild("lib")
            local Network = lib and lib:FindFirstChild("Network")
            CollectTokenRemote = Network and Network:FindFirstChild("CollectToken")
        end

        if not CollectTokenRemote then
            CollectTokenRemote = Rep:FindFirstChild("CollectToken") or Rep:FindFirstChild("Collect_Token")
        end

        spawn(function()
            while isCollecting and task.wait(0.1) do
                if Spawns then
                    for _, token in ipairs(Spawns:GetChildren()) do
                        pcall(function()
                            if CollectTokenRemote then
                                CollectTokenRemote:FireServer(token)
                                collectedCount += 1
                            end
                        end)
                    end
                end
            end
        end)

        Tab:CreateButton("Stop Auto Collect", function()
            isCollecting = false
            Library:Notify("Auto Collect", "Stopped. Total collected: " .. tostring(collectedCount))
        end)
    end)
end

-- Credits section
local CreditsSection = Window:NewSection("Credits")
CreditsSection:CreateButton("Made by @NoctivexLQ", function()
    setclipboard("@NoctivexLQ")
    Library:Notify("Copied", "@NoctivexLQ copied to clipboard.")
end)

-- Notify on load
Library:Notify("Token GUI", "Loaded successfully. Auto Collect now runs without spam!")
